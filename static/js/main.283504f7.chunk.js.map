{"version":3,"sources":["components/HomePage.jsx","components/PersonName.jsx","components/PersonRow.jsx","components/PeopleTabele.jsx","components/PeoplePage.jsx","api.jsx","components/NotFoundPage.jsx","App.jsx","index.jsx"],"names":["HomePage","PersonName","person","history","useHistory","location","useLocation","searchParams","URLSearchParams","search","type","onClick","set","slug","push","toString","className","sex","name","PersonRow","get","born","died","motherObj","motherName","fatherObj","fatherName","ascImg","descImg","PeopleTable","people","onSortBy","sortBy","sortOrder","aria-hidden","event","onKeyDown","data-name","src","alt","map","PeoplePage","useState","setPeople","isSortedBy","setIsSortedBy","useEffect","fetch","then","json","peopleArr","find","mother","father","query","visiblePeople","filter","includes","sort","p1","p2","reverse","value","onChange","target","delete","handleChange","closest","dataset","NotFoundPage","App","to","path","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.283504f7.chunk.js","sourcesContent":["import React from 'react';\n\nexport function HomePage() {\n  return (\n    <h1>Home Page</h1>\n  );\n}\n","import React from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nexport function PersonName({ person }) {\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n\n  const handleOnClick = () => {\n    searchParams.set('slug', person.slug);\n    history.push(`?${searchParams.toString()}`);\n  };\n\n  return (\n    <button\n      type=\"button\"\n      onClick={handleOnClick}\n      className={`${person.sex === 'm' ? 'manColor' : 'womenColor'}`}\n    >\n      {person.name}\n    </button>\n  );\n}\n\nPersonName.propTypes = {\n  person: PropTypes.objectOf(PropTypes.string).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useLocation } from 'react-router-dom';\nimport { PersonName } from './PersonName';\n\nexport function PersonRow({ person }) {\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n\n  return (\n    <tr\n      className={`Person ${\n        person.slug === searchParams.get('slug') ? 'highlightPerson' : ''\n      }`}\n    >\n      <PersonName person={person} />\n      <td>{person.sex}</td>\n      <td>{person.born}</td>\n      <td>{person.died}</td>\n      <td>\n        {' '}\n        {person.motherObj ? (\n          <PersonName person={person.motherObj} />\n        ) : (\n          person.motherName\n        )}\n        {' '}\n      </td>\n      <td>\n        {' '}\n        {person.fatherObj ? (\n          <PersonName person={person.fatherObj} />\n        ) : (\n          person.fatherName\n        )}\n        {' '}\n      </td>\n    </tr>\n  );\n}\n\nPersonRow.propTypes = {\n  person: PropTypes.objectOf(PropTypes.string).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useLocation } from 'react-router';\nimport { PersonRow } from './PersonRow';\nimport '../App.scss';\n\n// eslint-disable-next-line\nconst ascImg = `https://raw.githubusercontent.com/Vasilkoff/react_people-table-advanced/master/public/images/sort_asc.png`;\n// eslint-disable-next-line\nconst descImg = `https://raw.githubusercontent.com/Vasilkoff/react_people-table-advanced/master/public/images/sort_desc.png`;\n\nexport function PeopleTable({ people, onSortBy }) {\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const sortBy = searchParams.get('sortBy');\n  const sortOrder = searchParams.get('sortOrder');\n\n  return (\n    <table className=\"PeopleTable\">\n      <thead\n        aria-hidden\n        onClick={event => onSortBy(event)}\n        onKeyDown={event => onSortBy(event)}\n      >\n        <th className=\"list-item\" data-name=\"name\">\n          <img\n            src={sortOrder === 'desc' && sortBy === 'name' ? descImg : ascImg}\n            alt=\"sortImg\"\n          />\n          {sortBy === 'name' ? <span>name*</span> : 'name'}\n        </th>\n        <th className=\"list-item\" data-name=\"sex\">\n          <img\n            src={sortOrder === 'desc' && sortBy === 'sex' ? descImg : ascImg}\n            alt=\"sortImg\"\n          />\n          {sortBy === 'sex' ? <span>sex*</span> : 'sex'}\n        </th>\n        <th className=\"list-item\" data-name=\"born\">\n          <img\n            src={sortOrder === 'desc' && sortBy === 'born' ? descImg : ascImg}\n            alt=\"sortImg\"\n          />\n          {sortBy === 'born' ? <span>born*</span> : 'born'}\n        </th>\n        <th className=\"list-item\" data-name=\"died\">\n          <img\n            src={sortOrder === 'desc' && sortBy === 'died' ? descImg : ascImg}\n            alt=\"sortImg\"\n          />\n          {sortBy === 'died' ? <span>died*</span> : 'died'}\n        </th>\n        <th className=\"list-item\" data-name=\"motherName\">\n          <img\n            src={\n              sortOrder === 'desc' && sortBy === 'motherName' ? descImg : ascImg\n            }\n            alt=\"sortImg\"\n          />\n          motherName\n        </th>\n        <th className=\"list-item\" data-name=\"fatherName\">\n          <img\n            src={\n              sortOrder === 'desc' && sortBy === 'fatherName' ? descImg : ascImg\n            }\n            alt=\"sortImg\"\n          />\n          fatherName\n        </th>\n      </thead>\n      <tbody>\n        {people.map(person => (\n          <PersonRow person={person} />\n        ))}\n      </tbody>\n    </table>\n  );\n}\n\nPeopleTable.propTypes = {\n  people: PropTypes.arrayOf(PropTypes.string).isRequired,\n  onSortBy: PropTypes.func.isRequired,\n};\n","import React, { useEffect, useState } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { getPeople } from '../api';\nimport { PeopleTable } from './PeopleTabele';\n\nexport function PeoplePage() {\n  const [people, setPeople] = useState([]);\n  const [isSortedBy, setIsSortedBy] = useState('asc');\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n\n  useEffect(() => {\n    getPeople().then(setPeople);\n  }, []);\n\n  const query = searchParams.get('query') || '';\n  const handleChange = (event) => {\n    if (event.target.value) {\n      searchParams.set('query', event.target.value);\n    } else {\n      searchParams.delete('query');\n    }\n\n    history.push(`?${searchParams.toString()}`);\n  };\n\n  const sortBy = searchParams.get('sortBy') || '';\n\n  const handleSortBy = (event) => {\n    if (\n      event.target\n      && event.target.closest('.list-item').name !== isSortedBy\n    ) {\n      searchParams.set(\n        'sortBy',\n        event.target.closest('.list-item').dataset.name,\n      );\n      searchParams.set('sortOrder', 'asc');\n    }\n\n    if (isSortedBy === event.target.closest('.list-item').dataset.name) {\n      if (sortOrder === 'desc') {\n        searchParams.set('sortOrder', 'asc');\n      } else {\n        searchParams.set('sortOrder', 'desc');\n      }\n    }\n\n    setIsSortedBy(event.target.closest('.list-item').dataset.name);\n    history.push(`?${searchParams.toString()}`);\n  };\n\n  let visiblePeople = [];\n\n  if (query) {\n    visiblePeople = people.filter(\n      person => person.name.includes(query)\n        || (person.motherName !== null ? person.motherName.includes(query) : '')\n        || (person.fatherName !== null\n          ? person.fatherName.includes(query) : ''),\n    );\n  } else {\n    visiblePeople = people;\n  }\n\n  const posibleSortBy = [\n    `name`,\n    `sex`,\n    `born`,\n    `died`,\n    'motherName',\n    'fatherName',\n  ];\n\n  const sortOrder = searchParams.get('sortOrder');\n\n  if (posibleSortBy.includes(sortBy)) {\n    visiblePeople = visiblePeople.sort((p1, p2) => {\n      if (p1[sortBy] > p2[sortBy]) {\n        return 1;\n      }\n\n      if (p1[sortBy] < p2[sortBy]) {\n        return -1;\n      }\n\n      return 0;\n    });\n  }\n\n  if (sortOrder === 'desc') {\n    visiblePeople.reverse();\n  }\n\n  return (\n    <>\n      <h1> People Page</h1>\n      <input\n        type=\"text\"\n        value={query}\n        onChange={event => handleChange(event)}\n      />\n      <PeopleTable people={visiblePeople} onSortBy={handleSortBy} />\n    </>\n  );\n}\n","const API = `https://mate-academy.github.io/react_people-table/api/people.json`;\n\nexport function getPeople() {\n  return fetch(API)\n    .then(people => people.json())\n    .then(peopleArr => peopleArr.map(person => ({\n      ...person,\n      motherObj: peopleArr.find(\n        mother => mother.name === person.motherName,\n      ),\n      fatherObj: peopleArr.find(\n        father => father.name === person.fatherName,\n      ),\n    })));\n}\n","import React from 'react';\n\nexport function NotFoundPage() {\n  return (\n    <h1>Not Found Page</h1>\n  );\n}\n","import React from 'react';\n\nimport './App.scss';\nimport { Link, Route, Switch, Redirect } from 'react-router-dom';\nimport { HomePage } from './components/HomePage';\nimport { PeoplePage } from './components/PeoplePage';\nimport { NotFoundPage } from './components/NotFoundPage';\n\nconst App = () => (\n  <div className=\"App\">\n    <header className=\"header\">\n      <ul>\n        <li><Link to=\"/\">Home page</Link></li>\n        <li><Link to=\"/people\">PeoplePage</Link></li>\n      </ul>\n    </header>\n    <Switch>\n      <Route path=\"/\" exact>\n        <HomePage />\n      </Route>\n      <Route path=\"/people\" exact>\n        <PeoplePage />\n      </Route>\n      <Redirect path=\"home\" to=\"/\" />\n      <NotFoundPage />\n    </Switch>\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}