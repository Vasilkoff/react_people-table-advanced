(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{15:function(e,t,a){},19:function(e,t,a){e.exports=a(29)},29:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),m=a(6),s=(a(15),a(1));function o(){return r.a.createElement("h1",null,"Home Page")}var u=a(12),i=a(13);function h(e){var t=e.person,a=Object(s.g)(),n=Object(s.h)(),l=new URLSearchParams(n.search);return r.a.createElement("button",{type:"button",onClick:function(){l.set("slug",t.slug),a.push("?".concat(l.toString()))},className:"".concat("m"===t.sex?"manColor":"womenColor")},t.name)}function d(e){var t=e.person,a=Object(s.h)(),n=new URLSearchParams(a.search);return r.a.createElement("tr",{className:"Person ".concat(t.slug===n.get("slug")?"highlightPerson":"")},r.a.createElement(h,{person:t}),r.a.createElement("td",null,t.sex),r.a.createElement("td",null,t.born),r.a.createElement("td",null,t.died),r.a.createElement("td",null," ",t.motherObj?r.a.createElement(h,{person:t.motherObj}):t.motherName," "),r.a.createElement("td",null," ",t.fatherObj?r.a.createElement(h,{person:t.fatherObj}):t.fatherName," "))}var p="https://raw.githubusercontent.com/Vasilkoff/react_people-table-advanced/master/public/images/sort_asc.png",E="https://raw.githubusercontent.com/Vasilkoff/react_people-table-advanced/master/public/images/sort_desc.png";function g(e){var t=e.people,a=e.onSortBy,n=Object(s.h)(),l=new URLSearchParams(n.search),c=l.get("sortBy"),m=l.get("sortOrder");return r.a.createElement("table",{className:"PeopleTable"},r.a.createElement("thead",{"aria-hidden":!0,onClick:function(e){return a(e)},onKeyDown:function(e){return a(e)}},r.a.createElement("th",{className:"list-item","data-name":"name"},r.a.createElement("img",{src:"desc"===m&&"name"===c?E:p,alt:"sortImg"}),"name"===c?r.a.createElement("span",null,"name*"):"name"),r.a.createElement("th",{className:"list-item","data-name":"sex"},r.a.createElement("img",{src:"desc"===m&&"sex"===c?E:p,alt:"sortImg"}),"sex"===c?r.a.createElement("span",null,"sex*"):"sex"),r.a.createElement("th",{className:"list-item","data-name":"born"},r.a.createElement("img",{src:"desc"===m&&"born"===c?E:p,alt:"sortImg"}),"born"===c?r.a.createElement("span",null,"born*"):"born"),r.a.createElement("th",{className:"list-item","data-name":"died"},r.a.createElement("img",{src:"desc"===m&&"died"===c?E:p,alt:"sortImg"}),"died"===c?r.a.createElement("span",null,"died*"):"died"),r.a.createElement("th",{className:"list-item","data-name":"motherName"},r.a.createElement("img",{src:"desc"===m&&"motherName"===c?E:p,alt:"sortImg"}),"motherName"),r.a.createElement("th",{className:"list-item","data-name":"fatherName"},r.a.createElement("img",{src:"desc"===m&&"fatherName"===c?E:p,alt:"sortImg"}),"fatherName")),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement(d,{person:e})}))))}function b(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)("asc"),m=Object(u.a)(c,2),o=m[0],h=m[1],d=Object(s.g)(),p=Object(s.h)(),E=new URLSearchParams(p.search);Object(n.useEffect)((function(){fetch("https://mate-academy.github.io/react_people-table/api/people.json").then((function(e){return e.json()})).then((function(e){return e.map((function(t){return Object(i.a)(Object(i.a)({},t),{},{motherObj:e.find((function(e){return e.name===t.motherName})),fatherObj:e.find((function(e){return e.name===t.fatherName}))})}))})).then(l)}),[]);var b=E.get("query")||"",f=E.get("sortBy")||"",N=[];N=b?a.filter((function(e){return e.name.includes(b)||(null!==e.motherName?e.motherName.includes(b):"")||(null!==e.fatherName?e.fatherName.includes(b):"")})):a;var O=E.get("sortOrder");return["name","sex","born","died","motherName","fatherName"].includes(f)&&(N=N.sort((function(e,t){return e[f]>t[f]?1:e[f]<t[f]?-1:0}))),"desc"===O&&N.reverse(),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null," People Page"),r.a.createElement("input",{type:"text",value:b,onChange:function(e){return function(e){e.target.value?E.set("query",e.target.value):E.delete("query"),d.push("?".concat(E.toString()))}(e)}}),r.a.createElement(g,{people:N,onSortBy:function(e){e.target&&e.target.closest(".list-item").name!==o&&(E.set("sortBy",e.target.closest(".list-item").dataset.name),E.set("sortOrder","asc")),o===e.target.closest(".list-item").dataset.name&&("desc"===O?E.set("sortOrder","asc"):E.set("sortOrder","desc")),h(e.target.closest(".list-item").dataset.name),d.push("?".concat(E.toString()))}}))}function f(){return r.a.createElement("h1",null,"Not Found Page")}var N=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"header"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(m.b,{to:"/"},"Home page")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/people"},"PeoplePage")))),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0},r.a.createElement(o,null)),r.a.createElement(s.b,{path:"/people",exact:!0},r.a.createElement(b,null)),r.a.createElement(s.a,{path:"home",to:"/"}),r.a.createElement(f,null)))};c.a.render(r.a.createElement(m.a,null,r.a.createElement(N,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.283504f7.chunk.js.map