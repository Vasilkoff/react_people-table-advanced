{"version":3,"sources":["components/HomePage.jsx","components/PersonName.jsx","components/PersonRow.jsx","components/PeopleTabele.jsx","components/PeoplePage.jsx","api.jsx","components/NotFoundPage.jsx","App.jsx","index.jsx"],"names":["HomePage","PersonName","person","history","useHistory","location","useLocation","searchParams","URLSearchParams","search","type","onClick","set","slug","push","toString","className","sex","name","PersonRow","get","born","died","motherObj","motherName","fatherObj","fatherName","PeopleTable","people","onSortBy","sortBy","sortOrder","aria-hidden","data-name","map","PeoplePage","useState","setPeople","useEffect","fetch","then","json","peopleArr","find","mother","father","query","visiblePeople","filter","includes","sort","p1","p2","reverse","value","onChange","event","target","delete","handleChange","tabSortType","NotFoundPage","App","to","path","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.07e7de6f.chunk.js","sourcesContent":["import React from 'react';\n\nexport function HomePage() {\n  return (\n    <h1>Home Page</h1>\n  );\n}\n","import React from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nexport function PersonName({ person }) {\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n\n  const handleOnClick = () => {\n    searchParams.set('slug', person.slug);\n    history.push(`?${searchParams.toString()}`);\n  };\n\n  return (\n    <button\n      type=\"button\"\n      onClick={handleOnClick}\n      className={`${person.sex === 'm' ? 'manColor' : 'womenColor'}`}\n    >\n      {person.name}\n    </button>\n  );\n}\n\nPersonName.propTypes = {\n  person: PropTypes.objectOf(PropTypes.string).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useLocation } from 'react-router-dom';\nimport { PersonName } from './PersonName';\n\nexport function PersonRow({ person }) {\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n\n  return (\n    <tr\n      className={`Person ${\n        person.slug === searchParams.get('slug') ? 'highlightPerson' : ''\n      }`}\n    >\n      <PersonName person={person} />\n      <td>{person.sex}</td>\n      <td>{person.born}</td>\n      <td>{person.died}</td>\n      <td>\n        {' '}\n        {person.motherObj ? (\n          <PersonName person={person.motherObj} />\n        ) : (\n          person.motherName\n        )}\n        {' '}\n      </td>\n      <td>\n        {' '}\n        {person.fatherObj ? (\n          <PersonName person={person.fatherObj} />\n        ) : (\n          person.fatherName\n        )}\n        {' '}\n      </td>\n    </tr>\n  );\n}\n\nPersonRow.propTypes = {\n  person: PropTypes.objectOf(PropTypes.string).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useLocation } from 'react-router';\nimport { PersonRow } from './PersonRow';\nimport '../App.scss';\n\nexport function PeopleTable({ people, onSortBy }) {\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const sortBy = searchParams.get('sortBy');\n  const sortOrder = searchParams.get('sortOrder');\n\n  return (\n    <table className=\"PeopleTable\">\n      <thead\n        aria-hidden\n      >\n        <th\n          onClick={() => onSortBy('name')}\n          className={`list-item ${\n            sortOrder === 'desc' && sortBy === 'name' ? 'descImg' : 'ascImg'\n          }`}\n          data-name=\"name\"\n        >\n          {sortBy === 'name' ? <span>name*</span> : 'name'}\n        </th>\n        <th\n          onClick={() => onSortBy('sex')}\n          className={`list-item ${\n            sortOrder === 'desc' && sortBy === 'sex' ? 'descImg' : 'ascImg'\n          }`}\n          data-name=\"sex\"\n        >\n          {sortBy === 'sex' ? <span>sex*</span> : 'sex'}\n        </th>\n        <th\n          onClick={() => onSortBy('born')}\n          className={`list-item ${\n            sortOrder === 'desc' && sortBy === 'born' ? 'descImg' : 'ascImg'\n          }`}\n          data-name=\"born\"\n        >\n          {sortBy === 'born' ? <span>born*</span> : 'born'}\n        </th>\n        <th\n          onClick={() => onSortBy('died')}\n          className={`list-item ${\n            sortOrder === 'desc' && sortBy === 'died' ? 'descImg' : 'ascImg'\n          }`}\n          data-name=\"died\"\n        >\n          {sortBy === 'died' ? <span>died*</span> : 'died'}\n        </th>\n        <th\n          onClick={() => onSortBy('motherName')}\n          className={`list-item ${\n            sortOrder === 'desc' && sortBy === 'motherName'\n              ? 'descImg'\n              : 'ascImg'\n          }`}\n          data-name=\"motherName\"\n        >\n          motherName\n        </th>\n        <th\n          onClick={() => onSortBy('motherName')}\n          className={`list-item ${\n            sortOrder === 'desc' && sortBy === 'fatherName'\n              ? 'descImg'\n              : 'ascImg'\n          }`}\n          data-name=\"fatherName\"\n        >\n          fatherName\n        </th>\n      </thead>\n      <tbody>\n        {people.map(person => (\n          <PersonRow person={person} />\n        ))}\n      </tbody>\n    </table>\n  );\n}\n\nPeopleTable.propTypes = {\n  people: PropTypes.arrayOf(PropTypes.string).isRequired,\n  onSortBy: PropTypes.func.isRequired,\n};\n","import React, { useEffect, useState } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { getPeople } from '../api';\nimport { PeopleTable } from './PeopleTabele';\n\nexport function PeoplePage() {\n  const [people, setPeople] = useState([]);\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n\n  useEffect(() => {\n    getPeople().then(setPeople);\n  }, []);\n\n  const query = searchParams.get('query') || '';\n  const handleChange = (event) => {\n    if (event.target.value) {\n      searchParams.set('query', event.target.value);\n    } else {\n      searchParams.delete('query');\n    }\n\n    history.push(`?${searchParams.toString()}`);\n  };\n\n  const sortBy = searchParams.get('sortBy') || '';\n\n  const handleSortBy = (tabSortType) => {\n    if (\n      tabSortType !== sortBy\n    ) {\n      searchParams.set(\n        'sortBy',\n        tabSortType,\n      );\n      searchParams.set('sortOrder', 'asc');\n    }\n\n    if (sortBy === tabSortType) {\n      if (sortOrder === 'desc') {\n        searchParams.set('sortOrder', 'asc');\n      } else {\n        searchParams.set('sortOrder', 'desc');\n      }\n    }\n\n    history.push(`?${searchParams.toString()}`);\n  };\n\n  let visiblePeople = [];\n\n  if (query) {\n    visiblePeople = people.filter(\n      person => person.name.includes(query)\n        || (person.motherName !== null ? person.motherName.includes(query) : '')\n        || (person.fatherName !== null\n          ? person.fatherName.includes(query) : ''),\n    );\n  } else {\n    visiblePeople = people;\n  }\n\n  const posibleSortBy = [\n    `name`,\n    `sex`,\n    `born`,\n    `died`,\n    'motherName',\n    'fatherName',\n  ];\n\n  const sortOrder = searchParams.get('sortOrder');\n\n  if (posibleSortBy.includes(sortBy)) {\n    visiblePeople = visiblePeople.sort((p1, p2) => {\n      if (p1[sortBy] > p2[sortBy]) {\n        return 1;\n      }\n\n      if (p1[sortBy] < p2[sortBy]) {\n        return -1;\n      }\n\n      return 0;\n    });\n  }\n\n  if (sortOrder === 'desc') {\n    visiblePeople.reverse();\n  }\n\n  return (\n    <>\n      <h1> People Page</h1>\n      <input\n        type=\"text\"\n        value={query}\n        onChange={event => handleChange(event)}\n      />\n      <PeopleTable people={visiblePeople} onSortBy={handleSortBy} />\n    </>\n  );\n}\n","const API = `https://mate-academy.github.io/react_people-table/api/people.json`;\n\nexport function getPeople() {\n  return fetch(API)\n    .then(people => people.json())\n    .then(peopleArr => peopleArr.map(person => ({\n      ...person,\n      motherObj: peopleArr.find(\n        mother => mother.name === person.motherName,\n      ),\n      fatherObj: peopleArr.find(\n        father => father.name === person.fatherName,\n      ),\n    })));\n}\n","import React from 'react';\n\nexport function NotFoundPage() {\n  return (\n    <h1>Not Found Page</h1>\n  );\n}\n","import React from 'react';\n\nimport './App.scss';\nimport { Link, Route, Switch, Redirect } from 'react-router-dom';\nimport { HomePage } from './components/HomePage';\nimport { PeoplePage } from './components/PeoplePage';\nimport { NotFoundPage } from './components/NotFoundPage';\n\nconst App = () => (\n  <div className=\"App\">\n    <header className=\"header\">\n      <ul>\n        <li><Link to=\"/\">Home page</Link></li>\n        <li><Link to=\"/people\">PeoplePage</Link></li>\n      </ul>\n    </header>\n    <Switch>\n      <Route path=\"/\" exact>\n        <HomePage />\n      </Route>\n      <Route path=\"/people\" exact>\n        <PeoplePage />\n      </Route>\n      <Redirect path=\"home\" to=\"/\" />\n      <NotFoundPage />\n    </Switch>\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}